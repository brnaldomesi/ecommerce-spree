- content_for :footer_extra do
  :javascript
    $(function(){
      refreshImageAndThumbnails('#{variant.id}');
      $("input[name='variant_id']").change(activateVariant);
      $(".product-thumbnails a[href]").click(loadImageOfThumbnail);
    });
.product-gallery
  #thumbnails.thumbnails
    .make-me-sticky
      = render partial: 'spree/products/thumbnails', locals: { product: variant.product }
  .gallery-wrapper
    - if variant.images.present?
      - variant.images.to_a.each_with_index do|image, index|
        = render partial: 'spree/shared/image', locals: { image: image, size: :large }
    - else
      - variant.product.master.images.to_a.each_with_index do |image, index|
        = render partial: 'spree/shared/image', locals: { image: image, size: :large }
.product-carousel.owl-carousel.gallery-wrapper
  - variant.product.gallery.images.to_a.each_with_index do|image, index|
    .gallery-item(dash-hash="Image #{index}")
      = render partial: 'spree/shared/image', locals: { image: image, size: :large }
